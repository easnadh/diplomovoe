# diplomovoe
Дипломный проект на тему <i>«Разработка программного средства для объединения трехмерных квазиструктурированных сеток»</i>.
<br>Python 3.11, PyQt6.

### Use case диаграмма
![image](https://github.com/easnadh/diplomovoe/assets/91774742/2f159998-8f23-45cc-9178-23bb025d0cb1)

### Входные данные
На вход программе могут подаваться файлы таких расширений, как .vol (для объединения или конвертации) или .dat (для конвертации), 
содержащие в себе сеточную структуру данных определенного формата для каждого расширения.
<br>Фрагмент файла .vol, сгенерированного с помощью Netgen:

![image](https://github.com/easnadh/diplomovoe/assets/91774742/45943f02-cf1e-4525-b131-abe2753b594a)

Также на вход пользователь подает номера поверхностей, по которым будет производиться склейка сеток. 
С указанных поверхностей берутся точки для выполнения алгоритма. 
Точки на ребрах склеиваемых поверхностей должны совпадать, что при вводе данных должно контролироваться пользователем, 
так как при перпендикулярности плоскостей их соединение невозможно.

### Выходные данные
Преобразование файлового формата из .dat в .vol ведет к отсутствию на выходе блока поверхностной сетки (facemesh, названный в .vol surfaceelements), 
так как в .dat она напрямую не содержится. В обратной ситуации, при изменении расширения с .vol на .dat, facemesh также будет потерян, 
так как по структуре файлов .dat не может содержаться в исходном виде.

### Алгоритмы
#### Совпадение точек
Если все точки поверхности склейки первой сетки совпадают с точками поверхности склейки второй сетки, то объединение происходит по упрощенному алгоритму.
А именно: берется множество точек обеих сеток, что позволяет избежать дублирования, после чего элементы поверхностной сетки и сетки тетраэдров из обеих 
сеток объединяются в один экземпляр класса по такому же принципу. Это позволяет корректно отображать номера точек в выходных блоках, то есть, ссылки на 
точки второй сетки пересчитываются по принципу +n-m, где n – количество точек в первом файле, а m – количество точек на пересечении сеток.

#### Несовпадение точек
В ином случае, поверхности должны совпадать, то есть номера поверхностей должны иметь одинаковые коэффициенты уравнения плоскости и одинаковое количество 
точек, лежащих на этой поверхности. При соблюдении всех условий выполняется алгоритм: для каждой точки с поверхности склейки первой сетки по формуле 
расстояния между двумя точками ищется ближайшая точка с поверхности склейки второй сетки. Получается несколько пар точек. Далее, эти пары представляются 
как отрезки, из центров которых берутся точки в качестве точек совпадения. Вместо точек с поверхности склейки будут записаны эти точки совпадения, 
представляющие собой некоторое усредненное подобие общих точек.


### Блок-схема
![Копия Блок-схема drawio](https://github.com/easnadh/diplomovoe/assets/91774742/011fd775-54a2-4a31-b612-51f79aa67e4d)
